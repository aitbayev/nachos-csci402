WRITEUP
Title:  Writeup for Project 4, Fall 2015
Date:  11/29/15
Group:	Name			 Email	
		Hyun Ji Lee		 hyunjile@usc.edu	
		Meruyert Aitbayeva	 aitbayev@usc.edu


I. Requirement:

Part I:
We are told to implement all entities from project 2 Passport Office Simulation. They must all work together across Nachos clients where the server connects the entities together. The User programs must not know that remote procedure calls are used. The clients do not directly talk to each other- instead, they send messages via Nachos server, which connects the clients and the user programs. Exec system call need to be used to create each entity. Fork must not be used. Use project 3 part 3 in simulation. The end result should allow up to 10 user programs to run simultaneously. Mailbox numbers need to be assigned to each thread when they get created (mailbox number is no longer hard-coded).

Part II:
In part II we need to change server so that, there can be multiple servers communicating with each other. Each server will have its own set of locks, cvs, and mvs. Client randomly chooses the server and sends a request. If server can’t create or can’t get the value(because it is not in its table) it should send request to another server asking to do it for him. If another server can make it, it performs the request and replies to original client that asked for it. If it can’t it should notify the server that he can’t make it. 

II. Assumptions:

Part I:
There is 1 server (just like project 3 part 3- make use of part 3 from the project). Fork cannot be used. Exec should be used. Mailbox number can be incremented (counter used) to assign to each thread that is being created. Messages are sent to the server. Error message is sent back to the client. Max MV number can be decided by us.

Part II:
Server asks other server to create lock, mv or cv when it’s array gets full

III. Design:

Part I:
Organized all locks, MVs, and CVs (for each clerk/cashier) in setup.h file. They are declared and initialized in the file. The index number per lock, MV, and CV is initialized. We broke down each type of entity into different files. Each clerk/customer file has a function where the clerk/customer gets customer. We check the bribe line first and then the regular line for customers. A lock is acquired and released in the process where we set the clerk state and signal. Then the clerk acquires a lock that is commonly used with a customer to interact. The interaction slightly differs depending on what the interaction between the customers and clerks are (i.e. what clerk requires from customer). We make use of Lock (acquire, release), CV, Signal, Wait, and Release (system calls). We get MV, set MV, then call the function in each clerk/cashier file. Now these clerk/cashier files are used to call Exec on these entities. We call Exec on the file and the length of the file to create the entity. Customer file calls functions to go to each clerk. It calls Exec of the clerks to go to. We have three test cases. That is where we call Exec on customers. As we use the server to send in messages, we also set mailbox number to the new thread that is being created but keeping track of a counter that increments every time we have a new thread. A thread gets an unique mailbox number.

Part II:
There is struct called Pending Message, every time server sends messages to each other they store them in requests array. 
Also every server has it’s own array of locks, cvs and mvs and only knows it’s own set locks, mvs and cvs.
Now we differentiate the requests that server get as a Server request and Client request.
When server gets new request it checks if it is from server or client and depending on that does the action.
Before creating new lock, mv or cv server checks if its array is full and if it is it asks another server to do the job, also if server doesn’t have the lock, mv or cv in its table at asks another server to do it. 



IV. Implementation

Part I:
New Files:
	customer.c in ../test
		Functions- use of system calls & checks (bribe/regular line, SSN, picture taken 
etc.)
		goToAppClerk(int arg);
goToPicClerk(int arg);
goToPassClerk(int arg);
goToCashier(int arg);	
	app_clerk.c in ../test
Functions- use of system calls & checks		
getCustomer(int index)
	pic_clerk.c in ../test
		Functions- use of system calls & checks		
getCustomer(int index)
	pass_clerk.c in ../test
		Functions- use of system calls & checks		
getCustomer(int index)
	cashier.c in ../test
		Functions- use of system calls & checks		
getCustomer(int index)
	passport0.c in ../test
		//one customer- Exec
		Testing purpose
		nachos -m 1 -x ../test/passport0
	passport.c in ../test
		//four customers- Exec
		Testing purpose
		nachos -m 1 -x ../test/passport
	passport1.c in../test
		//ten customers- Exec
		Testing purpose
		nachos -m 1 -x ../test/passport1
	setup.h in ../test
		Structs- each entity	
Customer
CustomerData
ApplicationClerk
PictureClerk
PassportClerk
Cashier
Manager
//There are arrays, locks, CVs, and MVs declared and initialized
		//Ten customers declared

Part II:

New Struct: 
struct ServerRequest{   
in system.h
	char *message;
	int mailbox;
	int machine_id;
	bool reply_yes;	
};
New File: 
servers.cc in userprog
servers.c in test
New data structures:  in servers.c
	ServerLock s_locks[10]; 
ServerCV s_cvs[10];
MV s_mvs[10];
ServerRequest requests[]
Modified files:
	main.cc in threads
	nettest.cc in network
	exception.cc in userprog
	


V. Testing

Part I:
TO TEST… have two windows open- go to network directory (both of them)
		run nachos -m 0 -server on one of the windows and...
Passport0.c: run nachos -m 1 -x ../test/passport0 on the other window or
Passport.c: run nachos -m 1 -x ../test/passport on the other window or
Passport1.c: run nachos -m 1 -x ../test/passport1 on the other window

//Makefile is already edited- three test cases are included
***Test results at the end***

Part II:
Unfortunately, we didn’t have time to test part 2 with passport office. However, we created a test file servers.c  in test which shows that interaction between servers works. 
To show that servers interact with each other Open 3 windows. Here we creating 2 server instances
nachos -m 0 -ser 0 2
nachos -m 1 -ser 1 2
And test:
nachos -m 2 -x ../test/servers

The test shows that if one server fails to perform the request from client, another server handles it. 
In our case Server randomly chooses client 0 or 1, depending on that, results of window 0 and window 1 will be switched. 

We show the server interaction by testing it on Monitor variables. 
Test result shows that MVs gets created even though the requested server couldn't create the MV, and another server does the job.
In getMV test case we see that we can get values of MV created by different servers but requested from the same server.
Test results are at end of documentation..


Windows with machine id 0 
Server request to create MV from machine1
Creating new MV with name @
Get Monitor variable.
I don't have that MV, let's ask another server
going to send request
Chose server 1
Cannot get MV, wrong argument.
MV doesn't exist or wrong argument was passed.
Get Monitor variable.

Window with machine id 1
Create Monitor variable.
Creating new MV with name Monitor1
Create Monitor variable.
Creating new MV with name Monitor2
Create Monitor variable.
Creating new MV with name Monitor3
Create Monitor variable.
Creating new MV with name Monitor4
Create Monitor variable.
Creating new MV with name Monitor5
Create Monitor variable.
Cannot create MV, array is full, let other server create lock
going to send request
Chose server 0
Got request from another server to return MV value
Returning MV value 


Test result
Sending to 1
Created MV at index 06??6? with name Monitor1 
Sending to 1
Created MV at index 1 with name Monitor2 
Sending to 1
Created MV at index 2 with name Monitor3 
Sending to 1
Created MV at index 3 with name Monitor4 
Sending to 1
Created MV at index 4 with name Monitor5 
Sending to 1
Created MV at index 0 with name Monitor6 
created by SAME server 
6
created by SAME server 
1
created by SAME server 
2
created by SAME server 
3
created by SAME server 
4
created by DIFFERENT server 
0
In get MV
Got value 0 of MV at index 6 
In get MV
Got value 0 of MV at index 0 
should be 0 
0
should be 0 
0




VI. Discussion

Experiment Expectation
Part I: Passport Clerk works using a server where entities communicate to.

Part II: Multiple  Servers supposed to communicate with each other and handle requests that clients sent by clients and other servers. 

Experiment Result
	Part I: Passport Clerk is able to be run using Exec and server.

Part II: Servers communicate with each other and are able to handle requests sent by clients and other servers. 





TEST RESULTS

for passport0.c

aludra.usc.edu(8): nachos -m 1 -x ../test/passport0
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
Created MV 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
Created MV 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
Created MV 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
Created MV 
Created MV 
Created MV 
In get MV
In get MV
Got value of MV 
In set MV
Got value of MV 
In set MV
MV was set/created 
In Acquire Lock
MV was set/created 

***Going to AppClerk***

In Acquire Lock
Acquired a lock 
-AppClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
0
In Release lock
Waiting on lock, CV 
--Got ssn and app from customer 
In Signal CV
Released Lock 
In Acquire Lock
Signalling on lock, CV 
In Wait CV
Acquired a lock 
--Got in regular line 
In Wait CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
In Acquire Lock
Acquired a lock 
-Client-Acquired Lock
In Signal CV
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
In Signal CV
Signalling on lock, CV 
In Release lock

***Leaving AppClerk***

***Going to PicClerk***

In Acquire Lock
In get MV
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV
In Acquire Lock
MV was set/created 
In Acquire Lock
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
0
-PicClerk-Acquired Lock
In Wait CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
--Picture is taken 
In Signal CV
Released Lock 
In Acquire Lock
Signalling on lock, CV 
In Release lock
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
In Release lock

***Leaving PicClerk***

***Going to PassClerk***

In Acquire Lock
In get MV
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV
In Acquire Lock
MV was set/created 
In Acquire Lock
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
-PassClerk-Acquired Lock
In Wait CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
--Got ssn and app from customer- verified 
In Signal CV
Released Lock 
In Acquire Lock
Signalling on lock, CV 
In Wait CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Waiting on lock, CV 
In Release lock
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
In Signal CV
Signalling on lock, CV 
In Release lock

***Leaving PassClerk***

***Going to Cashier***

In Acquire Lock
In get MV
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV
In Acquire Lock
MV was set/created 
In Acquire Lock
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
-Cashier-Acquired Lock
In Wait CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Signal CV
Released Lock 
In Acquire Lock
Signalling on lock, CV 
-Cashier-Received money from customer
In Wait CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Waiting on lock, CV 
In Release lock
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
In Signal CV
Signalling on lock, CV 
In Release lock
Released Lock 

***Leaving Cashier***

----LEAVING PASSPORT OFFICE----






for passport.c

aludra.usc.edu(19): nachos -m 1 -x ../test/passport
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
Created MV 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
Created MV 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
Created MV 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
Created MV 
Created MV 
Created MV 
In get MV
In get MV
In get MV
In get MV
In get MV
In get MV
Got value of MV 
In set MV
Got value of MV 
In set MV
Got value of MV 
In set MV
Got value of MV 
In set MV
Got value of MV 
In set MV
Got value of MV 
In set MV
MV was set/created 
In Acquire Lock
MV was set/created 
In Acquire Lock
MV was set/created 

***Going to AppClerk***

In Acquire Lock
MV was set/created 

***Going to AppClerk***

In Acquire Lock
MV was set/created 

***Going to AppClerk***

In Acquire Lock
Acquired a lock 
-AppClerk-Acquired Lock
In Wait CV
MV was set/created 

***Going to AppClerk***

In Acquire Lock
Couldn't acquire a lock 
-AppClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
0
In Release lock
Couldn't acquire a lock 
0
In Release lock
Couldn't acquire a lock 
0
In Release lock
Waiting on lock, CV 
--Got ssn and app from customer 
In Signal CV
In Acquire Lock
Waiting on lock, CV 
--Got ssn and app from customer 
In Signal CV
Released Lock 
In Acquire Lock
Acquired a lock 
0
In Release lock
Released Lock 
In Acquire Lock
Signalling on lock, CV 
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Signalling on lock, CV 
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Released Lock 
In Acquire Lock
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Waiting on lock, CV 
In Release lock
In Acquire Lock
In Acquire Lock
Waiting on lock, CV 
In Release lock
In Acquire Lock
Acquired a lock 
-Client-Acquired Lock
In Signal CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
In Acquire Lock
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Signal CV
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
In Signal CV
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock
Waiting on lock, CV 
In Signal CV
Signalling on lock, CV 
In Release lock
Released Lock 

***Leaving AppClerk***

***Going to PicClerk***

In Acquire Lock
Couldn't signal on lock, CV 
In Release lock
In get MV
Released Lock 

***Leaving AppClerk***

***Going to PicClerk***

In Acquire Lock
In get MV

***Leaving AppClerk***

***Going to PicClerk***

In Acquire Lock
Couldn't acquire a lock 
In Release lock
In get MV
Released Lock 

***Leaving AppClerk***

***Going to PicClerk***

In Acquire Lock
In get MV
Got value of MV 
In set MV
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV
Couldn't acquire a lock 
In Release lock
In Acquire Lock
Got value of MV 
In set MV
Couldn't get value of MV 
In set MV
Acquired a lock 
In Release lock
MV was set/created 
In Acquire Lock
In Acquire Lock
MV was set/created 
In Acquire Lock
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
In Acquire Lock
MV was set/created 
In Acquire Lock
MV was set/created 
In Acquire Lock
In Acquire Lock
Couldn't acquire a lock 
0
-PicClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't wait on lock, CV 
In Release lock
Acquired a lock 
0
-PicClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
0
-PicClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
0
-PicClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Waiting on lock, CV 
--Picture is taken 
In Signal CV
Waiting on lock, CV 
In Release lock
Couldn't wait on lock, CV 
--Picture is taken 
In Signal CV
Released Lock 
In Acquire Lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
--Picture is taken 
In Signal CV
Waiting on lock, CV 
--Picture is taken 
In Signal CV
Waiting on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock
In Acquire Lock
Acquired a lock 
-Client-Acquired Lock
In Signal CV
Couldn't signal on lock, CV 
In Release lock
Released Lock 
In Acquire Lock
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock
Released Lock 
In Acquire Lock
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Signalling on lock, CV 
In Wait CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
In Release lock
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
In Release lock

***Leaving PicClerk***

***Going to PassClerk***

In Acquire Lock
Waiting on lock, CV 
In Release lock
In get MV
Waiting on lock, CV 
In Release lock

***Leaving PicClerk***

***Going to PassClerk***

In Acquire Lock
In get MV
Couldn't acquire a lock 
In Release lock

***Leaving PicClerk***

***Going to PassClerk***

In Acquire Lock
In get MV
Got value of MV 
In set MV
Acquired a lock 
In Release lock

***Leaving PicClerk***

***Going to PassClerk***

In Acquire Lock
In get MV
Got value of MV 
In set MV
In Acquire Lock
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV
MV was set/created 
In Acquire Lock
In Acquire Lock
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV
MV was set/created 
In Acquire Lock
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
In Acquire Lock
MV was set/created 
In Acquire Lock
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
-PassClerk-Acquired Lock
In Wait CV
In Acquire Lock
MV was set/created 
In Acquire Lock
Couldn't acquire a lock 
-PassClerk-Acquired Lock
In Wait CV
Waiting on lock, CV 
In Release lock
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
-PassClerk-Acquired Lock
In Wait CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
--Got ssn and app from customer- verified 
In Signal CV
Couldn't acquire a lock 
-PassClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Waiting on lock, CV 
--Got ssn and app from customer- verified 
In Signal CV
In Acquire Lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
--Got ssn and app from customer- verified 
In Signal CV
In Acquire Lock
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
--Got ssn and app from customer- verified 
In Signal CV
Waiting on lock, CV 
In Release lock
Acquired a lock 
-Client-Acquired Lock
In Signal CV
Couldn't signal on lock, CV 
In Wait CV
In Acquire Lock
Signalling on lock, CV 
In Wait CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Waiting on lock, CV 
In Release lock
Signalling on lock, CV 
In Wait CV
Couldn't signal on lock, CV 
In Wait CV
Released Lock 
In Acquire Lock
Waiting on lock, CV 
In Release lock
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Waiting on lock, CV 
In Release lock
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Signal CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
In Signal CV
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
In Signal CV
Signalling on lock, CV 
In Release lock
Released Lock 

***Leaving PassClerk***

***Going to Cashier***

In Acquire Lock
Signalling on lock, CV 
In Release lock
In get MV
Waiting on lock, CV 
In Signal CV

***Leaving PassClerk***

***Going to Cashier***

In Acquire Lock
In get MV
Couldn't acquire a lock 
In Release lock
Released Lock 

***Leaving PassClerk***

***Going to Cashier***

In Acquire Lock
Got value of MV 
In set MV
In get MV
Signalling on lock, CV 
In Release lock
In Acquire Lock
Got value of MV 
In set MV
Couldn't acquire a lock 
In Release lock
Couldn't acquire a lock 
In Release lock
MV was set/created 
In Acquire Lock
Got value of MV 
In set MV
Released Lock 

***Leaving PassClerk***

***Going to Cashier***

In Acquire Lock
In get MV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Released Lock 
In Acquire Lock
Wasn't able to set MV 
In Acquire Lock
In Acquire Lock
Couldn't acquire a lock 
-Cashier-Acquired Lock
In Wait CV
Acquired a lock 
In Release lock
Wasn't able to set MV 
In Acquire Lock
Got value of MV 
In set MV
Waiting on lock, CV 
In Release lock
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
-Cashier-Acquired Lock
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Released Lock 
In Acquire Lock
Couldn't wait on lock, CV 
In Signal CV
Couldn't acquire a lock 
-Cashier-Acquired Lock
In Wait CV
MV was set/created 
In Acquire Lock
In Acquire Lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Release lock
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Signalling on lock, CV 
-Cashier-Received money from customer
In Wait CV
Waiting on lock, CV 
In Signal CV
Couldn't acquire a lock 
-Cashier-Acquired Lock
In Wait CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
In Acquire Lock
Signalling on lock, CV 
-Cashier-Received money from customer
In Wait CV
In Acquire Lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Signalling on lock, CV 
-Cashier-Received money from customer
In Wait CV
Waiting on lock, CV 
In Signal CV
Acquired a lock 
-Client-Acquired Lock
In Signal CV
Couldn't signal on lock, CV 
In Wait CV
Waiting on lock, CV 
In Release lock
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
In Acquire Lock
Couldn't signal on lock, CV 
-Cashier-Received money from customer
In Wait CV
Waiting on lock, CV 
In Release lock
Released Lock 
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
In Signal CV
Signalling on lock, CV 
In Wait CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Signal CV
Signalling on lock, CV 
In Release lock
Waiting on lock, CV 
In Signal CV
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Release lock
Released Lock 

***Leaving Cashier***

----LEAVING PASSPORT OFFICE----
Signalling on lock, CV 
In Release lock
Waiting on lock, CV 
In Signal CV

***Leaving Cashier***

----LEAVING PASSPORT OFFICE----

***Leaving Cashier***

----LEAVING PASSPORT OFFICE----
Signalling on lock, CV 
In Release lock

***Leaving Cashier***

----LEAVING PASSPORT OFFICE----






for passport1.c

aludra.usc.edu(9): nachos -m 1 -x ../test/passport1
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
Created MV 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
Created MV 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
Created MV 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
In Create Lock
Lock was created 
In create CV
CV was created 
In create CV
CV was created 
In Create Lock
Lock was created 
Created MV 
Created MV 
Created MV 
In get MV
In get MV
In get MV
In get MV
In get MV
In get MV
In get MV
In get MV
In get MV
In get MV
In get MV
In get MV
In get MV
In get MV
In get MV
In get MV
Got value of MV 
In set MV
Got value of MV 
In set MV
Got value of MV 
In set MV
Got value of MV 
In set MV
Got value of MV 
In set MV
Got value of MV 
In set MV
Got value of MV 
In set MV
Got value of MV 
In set MV
Got value of MV 
In set MV
Got value of MV 
In set MV
Got value of MV 
In set MV
Got value of MV 
In set MV
Got value of MV 
In set MV
Got value of MV 
In set MV
Got value of MV 
In set MV
Got value of MV 
In set MV
MV was set/created 
In Acquire Lock
MV was set/created 
In Acquire Lock
MV was set/created 
In Acquire Lock
MV was set/created 
In Acquire Lock
MV was set/created 
In Acquire Lock
MV was set/created 
In Acquire Lock
MV was set/created 

***Going to AppClerk***

In Acquire Lock
MV was set/created 

***Going to AppClerk***

In Acquire Lock
MV was set/created 

***Going to AppClerk***

In Acquire Lock
MV was set/created 

***Going to AppClerk***

In Acquire Lock
MV was set/created 

***Going to AppClerk***

In Acquire Lock
MV was set/created 

***Going to AppClerk***

In Acquire Lock
MV was set/created 

***Going to AppClerk***

In Acquire Lock
MV was set/created 

***Going to AppClerk***

In Acquire Lock
MV was set/created 

***Going to AppClerk***

In Acquire Lock
MV was set/created 

***Going to AppClerk***

In Acquire Lock
Acquired a lock 
-AppClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
-AppClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
-AppClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
-AppClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
-AppClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
-AppClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
0
In Release lock
Couldn't acquire a lock 
0
In Release lock
Couldn't acquire a lock 
0
In Release lock
Couldn't acquire a lock 
0
In Release lock
Couldn't acquire a lock 
0
In Release lock
Couldn't acquire a lock 
0
In Release lock
Couldn't acquire a lock 
0
In Release lock
Couldn't acquire a lock 
0
In Release lock
Couldn't acquire a lock 
0
In Release lock
Couldn't acquire a lock 
0
In Release lock
Waiting on lock, CV 
--Got ssn and app from customer 
In Signal CV
Waiting on lock, CV 
--Got ssn and app from customer 
In Signal CV
Waiting on lock, CV 
--Got ssn and app from customer 
In Signal CV
Waiting on lock, CV 
--Got ssn and app from customer 
In Signal CV
Waiting on lock, CV 
--Got ssn and app from customer 
In Signal CV
Waiting on lock, CV 
--Got ssn and app from customer 
In Signal CV
Released Lock 
In Acquire Lock
In Acquire Lock
Released Lock 
In Acquire Lock
In Acquire Lock
In Acquire Lock
In Acquire Lock
In Acquire Lock
In Acquire Lock
In Acquire Lock
In Acquire Lock
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
In Acquire Lock
In Acquire Lock
In Acquire Lock
Released Lock 
In Acquire Lock
Released Lock 
In Acquire Lock
Released Lock 
In Acquire Lock
Released Lock 
In Acquire Lock
Released Lock 
In Acquire Lock
Released Lock 
In Acquire Lock
Released Lock 
In Acquire Lock
Acquired a lock 
-Client-Acquired Lock
In Signal CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Signal CV
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock

***Leaving AppClerk***

***Going to PicClerk***

In Acquire Lock

***Leaving AppClerk***

***Going to PicClerk***

In Acquire Lock
In get MV
In get MV

***Leaving AppClerk***

***Going to PicClerk***

In Acquire Lock
In get MV

***Leaving AppClerk***

***Going to PicClerk***

In Acquire Lock
In get MV

***Leaving AppClerk***

***Going to PicClerk***

In Acquire Lock

***Leaving AppClerk***

***Going to PicClerk***

In Acquire Lock
In get MV
In get MV

***Leaving AppClerk***

***Going to PicClerk***

In Acquire Lock
In get MV

***Leaving AppClerk***

***Going to PicClerk***

In Acquire Lock
Couldn't acquire a lock 
In Release lock
In get MV

***Leaving AppClerk***

***Going to PicClerk***

In Acquire Lock
Couldn't acquire a lock 
In Release lock
In get MV

***Leaving AppClerk***

***Going to PicClerk***

In Acquire Lock
In get MV
Got value of MV 
In set MV
Got value of MV 
In set MV
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV
Couldn't acquire a lock 
In Release lock
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV
Got value of MV 
In set MV
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV
Couldn't acquire a lock 
In Release lock
In Acquire Lock
Got value of MV 
In set MV
Couldn't acquire a lock 
In Release lock
Couldn't get value of MV 
In set MV
Released Lock 
In Acquire Lock
Wasn't able to set MV 
In Acquire Lock
Got value of MV 
In set MV
Acquired a lock 
In Release lock
MV was set/created 
In Acquire Lock
In Acquire Lock
MV was set/created 
In Acquire Lock
In Acquire Lock
Released Lock 
In Acquire Lock
Wasn't able to set MV 
In Acquire Lock
In Acquire Lock
MV was set/created 
In Acquire Lock
MV was set/created 
In Acquire Lock
In Acquire Lock
Released Lock 
In Acquire Lock
Wasn't able to set MV 
In Acquire Lock
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
MV was set/created 
In Acquire Lock
In Acquire Lock
MV was set/created 
In Acquire Lock
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Wasn't able to set MV 
In Acquire Lock
Acquired a lock 
0
-PicClerk-Acquired Lock
In Wait CV
In Acquire Lock
Couldn't acquire a lock 
0
-PicClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
0
-PicClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
0
-PicClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
0
-PicClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
0
-PicClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
0
-PicClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't wait on lock, CV 
In Release lock
Acquired a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
0
-PicClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't wait on lock, CV 
In Release lock
Acquired a lock 
0
-PicClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
0
-PicClerk-Acquired Lock
In Wait CV
Waiting on lock, CV 
--Picture is taken 
In Signal CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Waiting on lock, CV 
--Picture is taken 
In Signal CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
--Picture is taken 
In Signal CV
Waiting on lock, CV 
--Picture is taken 
In Signal CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
--Picture is taken 
In Signal CV
Waiting on lock, CV 
--Picture is taken 
In Signal CV
Waiting on lock, CV 
--Picture is taken 
In Signal CV
Waiting on lock, CV 
In Release lock
In Acquire Lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
--Picture is taken 
In Signal CV
Waiting on lock, CV 
In Release lock
In Acquire Lock
Waiting on lock, CV 
--Picture is taken 
In Signal CV
Waiting on lock, CV 
--Picture is taken 
In Signal CV
Signalling on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Released Lock 
In Acquire Lock
Couldn't signal on lock, CV 
In Release lock
In Acquire Lock
In Acquire Lock
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock
In Acquire Lock
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock
In Acquire Lock
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
In Acquire Lock
Signalling on lock, CV 
In Release lock
In Acquire Lock
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock
In Acquire Lock
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Couldn't signal on lock, CV 
In Wait CV
Acquired a lock 
-Client-Acquired Lock
In Signal CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Couldn't signal on lock, CV 
In Wait CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Released Lock 
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
In Release lock
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
In Release lock
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock

***Leaving PicClerk***

***Going to PassClerk***

In Acquire Lock
Waiting on lock, CV 
In Release lock
In get MV
Waiting on lock, CV 
In Release lock

***Leaving PicClerk***

***Going to PassClerk***

In Acquire Lock
In get MV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock

***Leaving PicClerk***

***Going to PassClerk***

In Acquire Lock
In get MV

***Leaving PicClerk***

***Going to PassClerk***

In Acquire Lock

***Leaving PicClerk***

***Going to PassClerk***

In Acquire Lock
In get MV
In get MV

***Leaving PicClerk***

***Going to PassClerk***

In Acquire Lock
In get MV
Couldn't acquire a lock 
In Release lock

***Leaving PicClerk***

***Going to PassClerk***

In Acquire Lock
Got value of MV 
In set MV
In get MV

***Leaving PicClerk***

***Going to PassClerk***

In Acquire Lock
In get MV
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV

***Leaving PicClerk***

***Going to PassClerk***

In Acquire Lock
In get MV

***Leaving PicClerk***

***Going to PassClerk***

In Acquire Lock
In get MV
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV
Couldn't acquire a lock 
In Release lock
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV
Got value of MV 
In set MV
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV
Released Lock 
In Acquire Lock
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV
MV was set/created 
In Acquire Lock
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV
Released Lock 
In Acquire Lock
MV was set/created 
In Acquire Lock
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV
Couldn't acquire a lock 
In Release lock
Released Lock 
In Acquire Lock
Couldn't get value of MV 
In set MV
MV was set/created 
In Acquire Lock
In Acquire Lock
In Acquire Lock
MV was set/created 
In Acquire Lock
MV was set/created 
In Acquire Lock
In Acquire Lock
MV was set/created 
In Acquire Lock
In Acquire Lock
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
MV was set/created 
In Acquire Lock
Couldn't acquire a lock 
-PassClerk-Acquired Lock
In Wait CV
In Acquire Lock
MV was set/created 
In Acquire Lock
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
In Acquire Lock
Couldn't acquire a lock 
-PassClerk-Acquired Lock
In Wait CV
MV was set/created 
In Acquire Lock
In Acquire Lock
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Acquired a lock 
-PassClerk-Acquired Lock
In Wait CV
Wasn't able to set MV 
In Acquire Lock
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
-PassClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
-PassClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
-PassClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Acquired a lock 
-PassClerk-Acquired Lock
In Wait CV
Couldn't wait on lock, CV 
In Release lock
Waiting on lock, CV 
--Got ssn and app from customer- verified 
In Signal CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't wait on lock, CV 
In Release lock
Acquired a lock 
-PassClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Waiting on lock, CV 
--Got ssn and app from customer- verified 
In Signal CV
Couldn't acquire a lock 
-PassClerk-Acquired Lock
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
--Got ssn and app from customer- verified 
In Signal CV
Couldn't acquire a lock 
-PassClerk-Acquired Lock
In Wait CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
--Got ssn and app from customer- verified 
In Signal CV
Waiting on lock, CV 
--Got ssn and app from customer- verified 
In Signal CV
Waiting on lock, CV 
--Got ssn and app from customer- verified 
In Signal CV
Waiting on lock, CV 
In Release lock
Signalling on lock, CV 
In Wait CV
In Acquire Lock
Waiting on lock, CV 
--Got ssn and app from customer- verified 
In Signal CV
Waiting on lock, CV 
In Release lock
In Acquire Lock
Waiting on lock, CV 
--Got ssn and app from customer- verified 
In Signal CV
Waiting on lock, CV 
In Release lock
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
--Got ssn and app from customer- verified 
In Signal CV
Waiting on lock, CV 
In Release lock
In Acquire Lock
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
--Got ssn and app from customer- verified 
In Signal CV
In Acquire Lock
Couldn't signal on lock, CV 
In Wait CV
In Acquire Lock
Released Lock 
In Acquire Lock
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Waiting on lock, CV 
In Release lock
In Acquire Lock
Signalling on lock, CV 
In Wait CV
In Acquire Lock
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Waiting on lock, CV 
In Release lock
In Acquire Lock
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Released Lock 
In Acquire Lock
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Waiting on lock, CV 
In Release lock
Signalling on lock, CV 
In Wait CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Waiting on lock, CV 
In Release lock
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Released Lock 
Couldn't signal on lock, CV 
In Wait CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Waiting on lock, CV 
In Release lock
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Signalling on lock, CV 
In Wait CV
Couldn't wait on lock, CV 
In Release lock
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Waiting on lock, CV 
In Release lock
Released Lock 
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
In Release lock
Signalling on lock, CV 
In Wait CV
Released Lock 
Signalling on lock, CV 
In Wait CV
Couldn't signal on lock, CV 
In Wait CV
Waiting on lock, CV 
In Signal CV
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
In Signal CV
Couldn't signal on lock, CV 
In Wait CV
Released Lock 
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Signal CV
Signalling on lock, CV 
In Release lock
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Signal CV
Signalling on lock, CV 
In Release lock
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Signal CV
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock

***Leaving PassClerk***

***Going to Cashier***

In Acquire Lock
In get MV
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock

***Leaving PassClerk***

***Going to Cashier***

In Acquire Lock
In get MV
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock

***Leaving PassClerk***

***Going to Cashier***

In Acquire Lock
In get MV

***Leaving PassClerk***

***Going to Cashier***

In Acquire Lock
In get MV

***Leaving PassClerk***

***Going to Cashier***

In Acquire Lock

***Leaving PassClerk***

***Going to Cashier***

In Acquire Lock
In get MV
In get MV
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV

***Leaving PassClerk***

***Going to Cashier***

In Acquire Lock

***Leaving PassClerk***

***Going to Cashier***

In Acquire Lock
In get MV
In get MV
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV

***Leaving PassClerk***

***Going to Cashier***

In Acquire Lock

***Leaving PassClerk***

***Going to Cashier***

In Acquire Lock
In get MV
In get MV
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV
Couldn't acquire a lock 
In Release lock
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV
Got value of MV 
In set MV
In Acquire Lock
MV was set/created 
In Acquire Lock
Couldn't acquire a lock 
In Release lock
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV
Got value of MV 
In set MV
In Acquire Lock
MV was set/created 
In Acquire Lock
Couldn't acquire a lock 
In Release lock
Couldn't acquire a lock 
In Release lock
Got value of MV 
In set MV
Got value of MV 
In set MV
In Acquire Lock
MV was set/created 
In Acquire Lock
Wasn't able to set MV 
In Acquire Lock
Released Lock 
In Acquire Lock
In Acquire Lock
In Acquire Lock
MV was set/created 
In Acquire Lock
MV was set/created 
In Acquire Lock
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
-Cashier-Acquired Lock
In Wait CV
In Acquire Lock
In Acquire Lock
MV was set/created 
In Acquire Lock
MV was set/created 
In Acquire Lock
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
-Cashier-Acquired Lock
In Wait CV
In Acquire Lock
In Acquire Lock
MV was set/created 
In Acquire Lock
MV was set/created 
In Acquire Lock
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
-Cashier-Acquired Lock
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
-Cashier-Acquired Lock
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
-Cashier-Acquired Lock
In Wait CV
Couldn't acquire a lock 
-Cashier-Acquired Lock
In Wait CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Signal CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
-Cashier-Acquired Lock
In Wait CV
Couldn't acquire a lock 
-Cashier-Acquired Lock
In Wait CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Signal CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
--Got in regular line 
In Wait CV
Couldn't acquire a lock 
-Cashier-Acquired Lock
In Wait CV
Couldn't acquire a lock 
-Cashier-Acquired Lock
In Wait CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Signal CV
In Acquire Lock
Signalling on lock, CV 
-Cashier-Received money from customer
In Wait CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Signal CV
Couldn't signal on lock, CV 
-Cashier-Received money from customer
In Wait CV
Released Lock 
In Acquire Lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Signal CV
In Acquire Lock
Signalling on lock, CV 
-Cashier-Received money from customer
In Wait CV
In Acquire Lock
In Acquire Lock
Signalling on lock, CV 
-Cashier-Received money from customer
In Wait CV
In Acquire Lock
Signalling on lock, CV 
-Cashier-Received money from customer
In Wait CV
Signalling on lock, CV 
-Cashier-Received money from customer
In Wait CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Waiting on lock, CV 
In Release lock
In Acquire Lock
Couldn't signal on lock, CV 
-Cashier-Received money from customer
In Wait CV
Released Lock 
In Acquire Lock
Signalling on lock, CV 
-Cashier-Received money from customer
In Wait CV
Waiting on lock, CV 
In Release lock
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
In Acquire Lock
Couldn't signal on lock, CV 
-Cashier-Received money from customer
In Wait CV
Signalling on lock, CV 
-Cashier-Received money from customer
In Wait CV
Acquired a lock 
-Client-Acquired Lock
In Signal CV
In Acquire Lock
Waiting on lock, CV 
In Release lock
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Couldn't wait on lock, CV 
In Release lock
Acquired a lock 
-Client-Acquired Lock
In Signal CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Released Lock 
Couldn't signal on lock, CV 
In Wait CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Waiting on lock, CV 
In Release lock
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Waiting on lock, CV 
In Release lock
Signalling on lock, CV 
In Wait CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Waiting on lock, CV 
In Release lock
Waiting on lock, CV 
In Release lock
Signalling on lock, CV 
In Wait CV
Couldn't acquire a lock 
-Client-Acquired Lock
In Signal CV
Couldn't signal on lock, CV 
In Wait CV
Released Lock 
Signalling on lock, CV 
In Wait CV
Signalling on lock, CV 
In Wait CV
Couldn't signal on lock, CV 
In Wait CV
Waiting on lock, CV 
In Signal CV
Released Lock 
Signalling on lock, CV 
In Wait CV
Waiting on lock, CV 
In Signal CV
Signalling on lock, CV 
In Wait CV
Couldn't signal on lock, CV 
In Wait CV
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Signal CV
Released Lock 
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Signal CV
Signalling on lock, CV 
In Release lock
Waiting on lock, CV 
In Signal CV
Signalling on lock, CV 
In Release lock
Waiting on lock, CV 
In Signal CV
Waiting on lock, CV 
In Signal CV
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock

***Leaving Cashier***

----LEAVING PASSPORT OFFICE----
Signalling on lock, CV 
In Release lock

***Leaving Cashier***

----LEAVING PASSPORT OFFICE----
Signalling on lock, CV 
In Release lock
Signalling on lock, CV 
In Release lock

***Leaving Cashier***

----LEAVING PASSPORT OFFICE----

***Leaving Cashier***

----LEAVING PASSPORT OFFICE----

***Leaving Cashier***

----LEAVING PASSPORT OFFICE----

***Leaving Cashier***

----LEAVING PASSPORT OFFICE----

***Leaving Cashier***

----LEAVING PASSPORT OFFICE----

***Leaving Cashier***

----LEAVING PASSPORT OFFICE----
Released Lock 

***Leaving Cashier***

----LEAVING PASSPORT OFFICE----

***Leaving Cashier***

----LEAVING PASSPORT OFFICE----






Part II Test results

Windows with machine id 0 
Server request to create MV from machine1
Creating new MV with name @
Get Monitor variable.
I don't have that MV, let's ask another server
going to send request
Chose server 1
Cannot get MV, wrong argument.
MV doesn't exist or wrong argument was passed.
Get Monitor variable.

Window with machine id 1
Create Monitor variable.
Creating new MV with name Monitor1
Create Monitor variable.
Creating new MV with name Monitor2
Create Monitor variable.
Creating new MV with name Monitor3
Create Monitor variable.
Creating new MV with name Monitor4
Create Monitor variable.
Creating new MV with name Monitor5
Create Monitor variable.
Cannot create MV, array is full, let other server create lock
going to send request
Chose server 0
Got request from another server to return MV value
Returning MV value 


Test result
Sending to 1
Created MV at index 06??6? with name Monitor1 
Sending to 1
Created MV at index 1 with name Monitor2 
Sending to 1
Created MV at index 2 with name Monitor3 
Sending to 1
Created MV at index 3 with name Monitor4 
Sending to 1
Created MV at index 4 with name Monitor5 
Sending to 1
Created MV at index 0 with name Monitor6 
created by SAME server 
6
created by SAME server 
1
created by SAME server 
2
created by SAME server 
3
created by SAME server 
4
created by DIFFERENT server 
0
In get MV
Got value 0 of MV at index 6 
In get MV
Got value 0 of MV at index 0 
should be 0 
0
should be 0 
0


